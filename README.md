# OpenCTI Client

This is a TypeScript library for interacting with OpenCTI. At the time of writing, this library supports OpenCTI version 6.7.7, but this may change.

# Local Development

## Updating the OpenCTI version

To update the autogenerated client, please clone the OpenCTI repository and check out the version that you need. Then, you can run this command.

```bash
pnpm generate $PATH_TO_OPENCTI
```

## Testing

To run the tests, please clone `OpenCTI-Platform/docker` and set the API key to `00000000-0000-0000-0000-000000000000`. After the Docker containers are up, you can run the tests with this command.

```bash
pnpm test
```

To test this package with another project, make sure the project has a `pnpm` section in the `package.json`. Then, run this command in the other project

```bash
pnpm link $PATH_TO_THIS_REPO
```

Once you're done testing, you can revert the link with this.

```bash
pnpm unlink @security-alliance/opencti-client
pnpm i
```
